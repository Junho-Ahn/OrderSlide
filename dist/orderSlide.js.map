{"version":3,"sources":["../orderSlide.js"],"names":["OrderSlide","boxSelector","sliderSelector","dotOption","duration","defaultIndex","elem","slideBox","document","querySelector","slider","dot","item","querySelectorAll","data","index","unit","offsetWidth","box","selector","tag","undefined","className","flag","flagName","i","length","innerHTML","addEventListener","e","to","target","dataset","colorizeDot","isStop","animate","style","position","overflowX","left","display","transitionProperty","willChange","sortAsc","then","classList","remove","add","value","Math","min","max","count","Promise","resolve","rangeCycle","order","setAnimate","setView","transitionEnd","propertyName","removeEventListener","setTimeout","yes","transitionDuration","amount","inRange","sortDesc","difference","straight","abs","cross","right"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\n/*\r\n * Class OrderSlide\r\n *\r\n * [Arguments]\r\n * String boxSelector\r\n * String sliderSelector\r\n * String dosBoxSelector\r\n * Integer duration\r\n * Integer defaultIndex\r\n *\r\n * [Variables]\r\n * JSon elem\r\n *   Element slideBox\r\n *   Element slider\r\n *   Array<Element> item\r\n * JSon data\r\n *   Integer index\r\n *   Integer unit\r\n *   Integer duration\r\n * Boolean isStop\r\n * Boolean animate\r\n *\r\n * [Functions]\r\n * Void colorizeDot()\r\n * Integer rangeCycle(Integer value)\r\n * Integer inRange(Integer value)\r\n * Promise sortAsc(Integer count)\r\n * Promise sortDesc(Integer count)\r\n * Promise setView(Integer index)\r\n * Promise setAnimate(Boolean yes)\r\n * Void left(Integer amount)\r\n * Void right(Integer amount)\r\n * Void to(Integer index)\r\n *\r\n */\r\nconst OrderSlide = class {\r\n\t// boxSelector : 최상위 부모 요소 셀렉터, 외부 슬라이드 요소\r\n\t// sliderSelector : 2순위 부모 셀렉터, 움직이는 내부 슬라이드 요소\r\n\t// dotOption : 도트 생성 옵션\r\n\t// duration : 한 번 슬라이드에 걸리는 시간, 단위 : ms\r\n\t// default_index : 기본으로 표시되는 요소의 순서, 0부터 시작\r\n\tconstructor(boxSelector, sliderSelector, dotOption = null, duration = 400, defaultIndex = 0) {\r\n\t\t// slideBox : 최상위 부모\r\n\t\t// slider : 2순위 부모\r\n\t\t// item : 자식(최소 3개 필요)\r\n\t\tthis.elem = {\r\n\t\t\tslideBox: document.querySelector(boxSelector),\r\n\t\t\tslider  : document.querySelector(sliderSelector),\r\n\t\t\tdot: null,\r\n\t\t\titem    : document.querySelectorAll(boxSelector + \">\" + sliderSelector + \">*\")\r\n\t\t};\r\n\t\t\r\n\t\t// duration : Argument\r\n\t\t// index : Argument\r\n\t\t// unit : elem.sliderBox의 width, slider의 index당 이동량, 단위 : px\r\n\t\tthis.data = {\r\n\t\t\tindex   : defaultIndex,\r\n\t\t\tunit    : this.elem.slideBox.offsetWidth,\r\n\t\t\tduration: duration\r\n\t\t}\r\n\t\t\r\n\t\t// 도트 생성\r\n\t\tif(dotOption != null){\r\n\t\t\tthis.elem.dot = {\r\n\t\t\t\tbox: document.querySelector(dotOption.selector),\r\n\t\t\t\ttag: dotOption.tag === undefined ? \"div\" : dotOption.tag,\r\n\t\t\t\tclass: dotOption.className === undefined ? \"dot\" : dotOption.className,\r\n\t\t\t\tflag: dotOption.flagName === undefined ? \"on\" : dotOption.flagName\r\n\t\t\t};\r\n\t\t\tfor(let i = 0; i < this.elem.item.length; i++) {\r\n\t\t\t\tthis.elem.dot.box.innerHTML += `<${this.elem.dot.tag} class=\"${this.elem.dot.class}\" data-index=\"${i}\"></${this.elem.dot.tag}>`;\r\n\t\t\t}\r\n\t\t\tfor(const dot of this.elem.dot.box.querySelectorAll(`.${this.elem.dot.class}`)) {\r\n\t\t\t\tdot.addEventListener(\"click\", e => {\r\n\t\t\t\t\tthis.to(e.target.dataset.index);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.colorizeDot();\r\n\t\t}\r\n\t\t\r\n\t\t// 슬라이드 중 클릭 방지 플래그\r\n\t\tthis.isStop = true;\r\n\t\t// 애니메이션 여부 플래그\r\n\t\tthis.animate = false;\r\n\t\t\r\n\t\t// 필수 스타일 적용\r\n\t\tthis.elem.slideBox.style.position = \"relative\";\r\n\t\tthis.elem.slideBox.style.overflowX = \"hidden\";\r\n\t\tthis.elem.slider.style.left = \"0px\";\r\n\t\tthis.elem.slider.style.position = \"absolute\";\r\n\t\tthis.elem.slider.style.display = \"flex\";\r\n\t\tthis.elem.slider.style.transitionProperty = \"left\";\r\n\t\tthis.elem.slider.style.willChange = \"left\";\r\n\t\t\r\n\t\t// defaultIndex 적용\r\n\t\tthis.sortAsc().then();\r\n\t}\r\n\t\r\n\t// 현재 index에 해당하는 도트에 클래스 부여\r\n\tcolorizeDot(){\r\n\t\tif(this.elem.dot != null){\r\n\t\t\tfor(const dot of this.elem.dot.box.querySelectorAll(`.${this.elem.dot.class}`)) {\r\n\t\t\t\tdot.classList.remove(this.elem.dot.flag);\r\n\t\t\t}\r\n\t\t\tthis.elem.dot.box.querySelector(`.${this.elem.dot.class}[data-index=\"${this.data.index}\"]`).classList.add(this.elem.dot.flag);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// value : 조정될 값\r\n\t// 범위 내에서 순환조정\r\n\trangeCycle(value) {\r\n\t\tif(value >= this.elem.item.length) {\r\n\t\t\tvalue -= this.elem.item.length;\r\n\t\t}\r\n\t\tif(value < 0) {\r\n\t\t\tvalue += this.elem.item.length;\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\t\r\n\t// value : 조정될 값\r\n\t// 범위 내로 들어오도록 조정\r\n\tinRange(value) {\r\n\t\treturn Math.min(this.elem.item.length - 1, Math.max(0, value));\r\n\t}\r\n\t\r\n\t// count : 정렬할 개수\r\n\t// 오름차순 정렬\r\n\tsortAsc(count = 0) {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tfor(let i = 0; i < this.elem.item.length; i++) {\r\n\t\t\t\t// 현재 슬라이드부터 count만큼 오름차순(L->R) 정렬, 나머지 오른쪽으로\r\n\t\t\t\tthis.elem.item[this.rangeCycle(this.data.index + i)].style.order = `${i <= count ? i : this.elem.item.length}`;\r\n\t\t\t}\r\n\t\t\tthis.setAnimate(false);\r\n\t\t\t// 맨 왼쪽(현재 슬라이드)으로 이동\r\n\t\t\tthis.setView(0).then(() => resolve());\r\n\t\t});\r\n\t}\r\n\t\r\n\t// count : 정렬할 개수\r\n\t// 내림차순 정렬\r\n\tsortDesc(count = 0) {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tfor(let i = 0; i < this.elem.item.length; i++) {\r\n\t\t\t\t// 현재 슬라이드부터 count만큼 내림차순(R->L) 정렬, 나머지 오른쪽으로\r\n\t\t\t\tthis.elem.item[this.rangeCycle(this.data.index - i)].style.order = `${i <= count ? this.elem.item.length - i - 1 : this.elem.item.length}`;\r\n\t\t\t}\r\n\t\t\tthis.setAnimate(false);\r\n\t\t\t// 현재 슬라이드로 이동\r\n\t\t\tthis.setView(count).then(() => resolve());\r\n\t\t});\r\n\t}\r\n\t\r\n\t// index : 목표 슬라이드의 index\r\n\t// 슬라이드 위치 이동\r\n\tsetView(index) {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tthis.elem.slider.style.left = `-${this.data.unit * index}px`;\r\n\t\t\tif(this.animate) {\r\n\t\t\t\t// 애니메이션 이동\r\n\t\t\t\t// 애니메이션 종료 감지\r\n\t\t\t\tconst transitionEnd = e => {\r\n\t\t\t\t\tif(e.propertyName !== \"left\") return;\r\n\t\t\t\t\tthis.elem.slider.removeEventListener('transitionend', transitionEnd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t}\r\n\t\t\t\tthis.elem.slider.addEventListener(\"transitionend\", transitionEnd);\r\n\t\t\t}else {\r\n\t\t\t\t// 즉시 이동\r\n\t\t\t\tsetTimeout(() => resolve());\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t// yes : 애니메이션 여부\r\n\t// 애니메이션 On/Off 조정\r\n\tsetAnimate(yes = true) {\r\n\t\tthis.animate = yes;\r\n\t\tthis.elem.slider.style.transitionDuration = `${yes ? this.data.duration : 0}ms`;\r\n\t}\r\n\t\r\n\t// amount : 이동하는 index 수\r\n\t// 왼쪽으로 슬라이드\r\n\tleft(amount = 1) {\r\n\t\tif(this.isStop) {\r\n\t\t\tamount = this.inRange(amount);\r\n\t\t\tif(amount < 1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// 이동 잠금\r\n\t\t\tthis.isStop = false;\r\n\t\t\t// 이동할 만큼 정렬\r\n\t\t\tthis.sortDesc(amount).then(() => {\r\n\t\t\t\tthis.data.index = this.rangeCycle(this.data.index - amount);\r\n\t\t\t\tthis.colorizeDot();\r\n\t\t\t\t// 이동 후 이동 잠금 해제\r\n\t\t\t\tthis.setAnimate();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setView(0).then(() => {\r\n\t\t\t\t\t\tthis.isStop = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t// amount : 이동하는 index 수\r\n\t// 오른쪽으로 슬라이드\r\n\tright(amount = 1) {\r\n\t\tif(this.isStop) {\r\n\t\t\tamount = this.inRange(amount);\r\n\t\t\tif(amount < 1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// 이동 잠금\r\n\t\t\tthis.isStop = false;\r\n\t\t\t// 이동할 만큼 정렬\r\n\t\t\tthis.sortAsc(amount).then(() => {\r\n\t\t\t\tthis.data.index = this.rangeCycle(this.data.index + amount);\r\n\t\t\t\tthis.colorizeDot();\r\n\t\t\t\t// 이동 후 이동 잠금 해제\r\n\t\t\t\tthis.setAnimate();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setView(amount).then(() => {\r\n\t\t\t\t\t\tthis.isStop = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t// index : 이동할 슬라이드의 index\r\n\t// 특정 index로 슬라이드\r\n\tto(index) {\r\n\t\tconst difference = this.inRange(index) - this.data.index;\r\n\t\tif(difference === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t// 현재 -> 목표 거리\r\n\t\tconst straight = Math.abs(difference);\r\n\t\t// 4 <-> 0 경유하는 거리\r\n\t\tconst cross = this.elem.item.length - straight;\r\n\t\tif(difference < 0) {\r\n\t\t\tif(straight < cross) {\r\n\t\t\t\tthis.left(straight);\r\n\t\t\t}else {\r\n\t\t\t\tthis.right(cross);\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tif(straight < cross) {\r\n\t\t\t\tthis.right(straight);\r\n\t\t\t}else {\r\n\t\t\t\tthis.left(cross);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}"],"file":"orderSlide.js"}